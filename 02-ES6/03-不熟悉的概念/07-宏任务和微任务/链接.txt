https://juejin.cn/post/6920239138893627406#comment

宏任务和微任务的区别
宏任务和微任务都是指在执行 JavaScript 代码时的不同任务类型。

宏任务通常指的是浏览器提供的一些异步 API，例如事件处理、定时器回调以及 requestAnimationFrame 等。这些任务会被放在一个队列中，等待执行。

相比之下，微任务指的是在当前执行栈执行完成后，立即执行的任务。常见的微任务有 process.nextTick（Node.js）、Promise.then 和 MutationObserver。

宏任务和微任务的主要区别在于执行时机。宏任务在浏览器主线程空闲时执行，而微任务则是在当前执行栈执行完成后立即执行。因此，如果当前执行栈中有很多代码需要执行，那么微任务可能会比宏任务先执行。