<!--
 * @Author: liming
 * @Date: 2022-01-16 11:51:32
 * @LastEditTime: 2022-01-16 11:51:33
 * @FilePath: \02-代码手敲\day02\19-Generator函数的介绍.html
-->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        /**
         * ES6 新引⼊了 Generator 函数，可以通过 yield 关键字(相当于debug)，把函数的执⾏流挂起，为改变执⾏流程提供了可能，从⽽
        为异步编程提供解决⽅案。 所以他的存在提供了让函数可以进⾏分步执⾏的能⼒。
        */

        //该函数和普通函数不同，在执⾏的时候函数并不会运⾏并且会返回⼀个分步执⾏对象
        //该对象存在next⽅法⽤来让程序继续执⾏，当程序遇到yield关键字的时候会停顿
        //next返回的对象中包含value和done两个属性，value代表上⼀个yield返回的结果
        //done代表程序是否执⾏完毕
        function* test() {
                var a = yield 1
                console.log(a)
                var b = yield 2
                    //yield相当于刀，函数相当于球，2个yield相当于给这个球切成了3部分
                console.log(b)
                var c = a + b
                console.log(c)
            }
            //获取分步执⾏对象
        var generator = test()
            //输出
        console.log(generator, 'generator')
            //步骤1 该程序从起点执⾏到第⼀个yield关键字后，step1的value是yield右侧的结果1
        var step1 = generator.next()
        console.log(step1, 'step1')
            //步骤2 该程序从var a开始执⾏到第2个yield后，step2的value是yield右侧的结果2
        var step2 = generator.next()
        console.log(step2, 'step2')
            //由于没有yield该程序从var b开始执⾏到结束
        var step3 = generator.next()
        console.log(step3, 'step3')
    </script>
</body>

</html>