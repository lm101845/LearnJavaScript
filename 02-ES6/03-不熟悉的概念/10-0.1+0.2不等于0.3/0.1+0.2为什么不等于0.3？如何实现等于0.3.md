# 前端面试 【JavaScript】— 0.1+0.2为什么不等于0.3？如何实现等于0.3?

计算机中用二进制来存储小数，大部分小数转成二进制之后都是无限循环的值，因此存在取舍问题，也就是精度丢失。

如上所述：0.1和0.2在转换成二进制后会无限循环，由于标准位数的限制后面多余的位数会被截掉，此时就已经出现了精度的损失，相加后因浮点数小数位的限制而截断的二进制数字在转换为十进制就会变成 0.30000000000000004。

对于这个问题，一个直接的解决方法就是设置一个误差范围，通常称为“机器精度”。对JavaScript来说，这个值通常为2^(-52)，在ES6中，为我们提供了Number.EPSILON属性，而它的值就是2^(-52)，只要我们判断0.1+0.2-0.3是否小于Number.EPSILON，如果小于，就可以判断为0.1+0.2 ===0.3

~~~js
function numberEpsilon(a,b){                   
  return Math.abs(a - b) < Number.EPSILON;        
}        

console.log(numberEpsilon(0.1 + 0.2, 0.3)); // true
~~~

