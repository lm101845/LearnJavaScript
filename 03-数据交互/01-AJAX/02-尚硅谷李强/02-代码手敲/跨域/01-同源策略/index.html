<!--
 * @Author: liming
 * @Date: 2021-07-28 15:52:55
 * @LastEditTime: 2021-07-28 16:20:51
 * @FilePath: \02-尚硅谷李强\02-代码手敲\跨域\01-同源策略\index.html
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>尚硅谷</h1>
    <button>点击获取用户数据</button>
    <script>
         const btn = document.querySelector('button')

         btn.onclick = function(){
             const x = new XMLHttpRequest();
             //这里因为是满足同源策略的，所以url可以简写
             x.open('GET','/data')
             //  x.open('GET','http://localhost/data')
            //发送
            x.send()
            x.onreadystatechange = function(){
                if(x.readyState === 4){
                    if(x.status >= 200 && x.status < 300){
                        console.log(x.response)
                    }
                }
            }
         }
    </script>
</body>
</html>