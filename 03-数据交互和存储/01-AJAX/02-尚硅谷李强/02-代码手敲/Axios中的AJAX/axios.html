<!--
 * @Author: liming
 * @Date: 2021-07-20 15:25:40
 * @LastEditTime: 2021-07-20 16:37:05
 * @FilePath: \02-尚硅谷李强\02-代码手敲\Axios中的AJAX\axios.html
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>axios 发送 AJAX请求</title>
    <script
      crossorigin="anonymous"
      src="https://cdn.bootcdn.net/ajax/libs/axios/0.19.2/axios.js"
    ></script>
  </head>
  <body>
    <button>GET</button>
    <button>POST</button>
    <button>AXios通用方法</button>
    <script>
      // https://github.com/axios/axios
      const btns = document.querySelectorAll("button");
      //配置 baseURL
      axios.defaults.baseURL = "http://localhost:8000";
      btns[0].onclick = function () {
        //GET 请求
        //   axios.get('http://localhost:8000/axios-server',{
        axios
          .get("/axios-server", {
            //url参数
            params: {
              id: 100,
              vip: 7,
            },
            //请求头信息
            headers: {
              name: "atguigu",
              age: 20,
            },
          })
          .then((value) => {
            console.log(value);
          });
        //数据的返回是基于Promise的，使用的是then
      };

      btns[1].onclick = function () {
        axios.post(
          "/axios-server",
        //   第二个参数是data请求体，第三个参数是其他配置
          {
            username: "admin",
            password: "123456",
          },
          {
            //url参数
            params: {
              id: 200,
              vip: 10,
            },
            //请求头参数
            headers: {
              height: 174,
              weight: 150,
            },
            //请求体
          }
        );
      };

       btns[2].onclick = function () {
            axios({
                //请求方法：
                method: "POST",
                //直接传对象，通用写法
                // url
                url:'/axios-server',
                //url参数
                params: {
                    vip:10,level:30
                }, 
                //头信息
                headers:{
                    a:100, b:200
                }, 
                //请求体参数
                data:{
                    username:'admin',
                    password: 'admin'
                }
            }).then(response=>{
                console.log(response);
                //响应状态码
                console.log(response.status);
                //响应状态字符串
                console.log(response.statusText);
                //响应头信息
                console.log(response.headers);
                console.log(response.data);
            })
        }
    </script>
  </body>
</html>
